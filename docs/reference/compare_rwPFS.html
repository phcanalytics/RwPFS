<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Compare different real-world PFS (rwPFS) definitions — compare_rwPFS • RwPFS</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Compare different real-world PFS (rwPFS) definitions — compare_rwPFS"><meta property="og:description" content="Compares a range of different rwPFS definitions with respect to event composition, KM median time to event,
Hazard ratio relative to the reference, and incremental no. of death events from one rwPFS definition to the next (optional)."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">RwPFS</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/real_world_PFS.html">Real-world Progression-free Survival (rwPFS)</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/phcanalytics/RwPFS/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Compare different real-world PFS (rwPFS) definitions</h1>
    
    <div class="hidden name"><code>compare_rwPFS.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Compares a range of different rwPFS definitions with respect to event composition, KM median time to event,
Hazard ratio relative to the reference, and incremental no. of death events from one rwPFS definition to the next (optional).</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">compare_rwPFS</span><span class="op">(</span>
  <span class="va">.df</span>,
  .labels <span class="op">=</span> <span class="cn">NULL</span>,
  .reference <span class="op">=</span> <span class="cn">NULL</span>,
  .incremental_deaths_column <span class="op">=</span> <span class="cn">NULL</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>.df</dt>
<dd><p>a data frame</p></dd>
<dt>.labels</dt>
<dd><p>character vector. A vector of strings representing the labels that identify the
rwPFS endpoints/definitions to be compared (in order of desired appearance in the output table).</p></dd>
<dt>.reference</dt>
<dd><p>character. Label identifying the reference rwPFS definition that others are compared against.</p></dd>
<dt>.incremental_deaths_column</dt>
<dd><p>logical. Should the output table contain an additional column comparing the incremental
number of death events captured from one definition to the next? Intended for comparing different <code>death_window_days</code>
parameter values in <code>fi_calc_rwPFS</code>.</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>Returns a summary table</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">#Note: the FlatironKitchen package is used in these</span></span>
<span class="r-in"><span class="co">#examples for simplicity. This is not a requirement.</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://go.roche.com/FlatironKitchen" class="external-link">FlatironKitchen</a></span><span class="op">)</span></span>
<span class="r-in"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">#Initialize FlatironKitchen object</span></span>
<span class="r-in"><span class="va">fk</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/FlatironKitchen/man/fi_start.html" class="external-link">fi_start</a></span><span class="op">(</span>datamart <span class="op">=</span> <span class="st">"AdvancedNSCLC"</span>,</span>
<span class="r-in">               title <span class="op">=</span> <span class="st">"rwPFS in aNSCLC"</span><span class="op">)</span>  <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  </span>
<span class="r-in">  <span class="co">#Use start of line as start_date</span></span>
<span class="r-in">  <span class="fu"><a href="https://rdrr.io/pkg/FlatironKitchen/man/fi_add_lineoftherapy_flatiron.html" class="external-link">fi_add_lineoftherapy_flatiron</a></span><span class="op">(</span></span>
<span class="r-in">    lines <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span class="r-in">    index_date <span class="op">=</span> <span class="st">"advanceddiagnosisdate"</span>,</span>
<span class="r-in">    left <span class="op">=</span> <span class="fl">0</span>,</span>
<span class="r-in">    right <span class="op">=</span> <span class="fl">90</span>,</span>
<span class="r-in">    calc_duration <span class="op">=</span> <span class="cn">FALSE</span></span>
<span class="r-in">  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  </span>
<span class="r-in">  <span class="co">#Restrict to Carboplatin &amp; Paclitaxel in 1st line</span></span>
<span class="r-in">  <span class="fu"><a href="https://rdrr.io/pkg/FlatironKitchen/man/fi_cohort_include.html" class="external-link">fi_cohort_include</a></span><span class="op">(</span></span>
<span class="r-in">    <span class="va">lot1linename</span> <span class="op">==</span> <span class="st">"Carboplatin,Paclitaxel"</span>,</span>
<span class="r-in">    description <span class="op">=</span> <span class="st">"Carboplatin &amp; Paclitaxel in 1st line"</span>,</span>
<span class="r-in">    keep_na <span class="op">=</span> <span class="cn">FALSE</span></span>
<span class="r-in">  <span class="op">)</span>  <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  </span>
<span class="r-in">  <span class="co">#Add information on any long visit gaps</span></span>
<span class="r-in">  <span class="fu"><a href="https://rdrr.io/pkg/FlatironKitchen/man/fi_calc_visitgap.html" class="external-link">fi_calc_visitgap</a></span><span class="op">(</span></span>
<span class="r-in">    index_date <span class="op">=</span> <span class="st">"lot1startdate"</span>,</span>
<span class="r-in">    gapdays <span class="op">=</span> <span class="fl">90</span>,</span>
<span class="r-in">    what <span class="op">=</span> <span class="st">"After"</span>,</span>
<span class="r-in">    force_database <span class="op">=</span> <span class="cn">FALSE</span></span>
<span class="r-in">  <span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">#Pull the analysis dataset from </span></span>
<span class="r-in"><span class="co">#the FlatironKitchen object</span></span>
<span class="r-in"><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">fk</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu"><a href="https://rdrr.io/pkg/FlatironKitchen/man/fi_pull_data.html" class="external-link">fi_pull_data</a></span><span class="op">(</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">#Download the progression table belonging</span></span>
<span class="r-in"><span class="co">#to the current datamart</span></span>
<span class="r-in"><span class="va">progression</span> <span class="op">&lt;-</span> <span class="va">fk</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu"><a href="https://rdrr.io/pkg/FlatironKitchen/man/fi_read_table.html" class="external-link">fi_read_table</a></span><span class="op">(</span>table_name<span class="op">=</span><span class="st">"ENHANCED_ADVNSCLCPROGRESSION"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">#Add progression information to analysis dataset</span></span>
<span class="r-in"><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  <span class="co">#select the start_date column..</span></span>
<span class="r-in">  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">patientid</span>, <span class="va">lot1startdate</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  </span>
<span class="r-in">  <span class="co">#..and add it to the raw progression table</span></span>
<span class="r-in">  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">progression</span>, by <span class="op">=</span> <span class="st">"patientid"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  </span>
<span class="r-in">  <span class="co">#Aggregate progression information (one-row per patient)</span></span>
<span class="r-in">  <span class="fu">filter_progression</span><span class="op">(</span></span>
<span class="r-in">    .start_date <span class="op">=</span> <span class="st">"lot1startdate"</span>,</span>
<span class="r-in">    .require_radiographic <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span class="r-in">    .exclude_pseudoprogression <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span class="r-in">    .discard_n_days <span class="op">=</span> <span class="fl">0</span>,</span>
<span class="r-in">    .label <span class="op">=</span> <span class="st">"_no_pseudo_no_mixed"</span>,</span>
<span class="r-in">    .prog_filter_expression <span class="op">=</span> <span class="st">"ismixedresponse == 'No'"</span></span>
<span class="r-in">  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  </span>
<span class="r-in">  <span class="co">#Combine progression columns with analysis dataset</span></span>
<span class="r-in">  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">right_join</a></span><span class="op">(</span><span class="va">df</span>, by <span class="op">=</span> <span class="st">"patientid"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">#Add several different rwPFS endpoints</span></span>
<span class="r-in"><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  </span>
<span class="r-in">  <span class="fu"><a href="calc_rwPFS.html">calc_rwPFS</a></span><span class="op">(</span></span>
<span class="r-in">    .start_date <span class="op">=</span> <span class="st">"lot1startdate"</span>,</span>
<span class="r-in">    .visit_gap_start_date <span class="op">=</span> <span class="st">"lastvisitbeforegap"</span>,</span>
<span class="r-in">    .last_progression_abstraction_date <span class="op">=</span> <span class="st">"lastclinicnotedate_no_pseudo_no_mixed"</span>,</span>
<span class="r-in">    .progression_date <span class="op">=</span> <span class="st">"progressiondate_no_pseudo_no_mixed"</span>,</span>
<span class="r-in">    .last_activity_date <span class="op">=</span> <span class="st">"lastactivitydate"</span>,</span>
<span class="r-in">    .death_date <span class="op">=</span> <span class="st">"dateofdeath"</span>,</span>
<span class="r-in">    .death_window_days <span class="op">=</span> <span class="fl">0</span>,</span>
<span class="r-in">    .max_follow_up_days <span class="op">=</span> <span class="fl">1200</span>,</span>
<span class="r-in">    .label <span class="op">=</span> <span class="st">"_0d_window"</span></span>
<span class="r-in">  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  </span>
<span class="r-in">  <span class="fu"><a href="calc_rwPFS.html">calc_rwPFS</a></span><span class="op">(</span></span>
<span class="r-in">    .start_date <span class="op">=</span> <span class="st">"lot1startdate"</span>,</span>
<span class="r-in">    .visit_gap_start_date <span class="op">=</span> <span class="st">"lastvisitbeforegap"</span>,</span>
<span class="r-in">    .last_progression_abstraction_date <span class="op">=</span> <span class="st">"lastclinicnotedate_no_pseudo_no_mixed"</span>,</span>
<span class="r-in">    .progression_date <span class="op">=</span> <span class="st">"progressiondate_no_pseudo_no_mixed"</span>,</span>
<span class="r-in">    .last_activity_date <span class="op">=</span> <span class="st">"lastactivitydate"</span>,</span>
<span class="r-in">    .death_date <span class="op">=</span> <span class="st">"dateofdeath"</span>,</span>
<span class="r-in">    .death_window_days <span class="op">=</span> <span class="fl">10</span>,</span>
<span class="r-in">    .max_follow_up_days <span class="op">=</span> <span class="fl">1200</span>,</span>
<span class="r-in">    .label <span class="op">=</span> <span class="st">"_10d_window"</span></span>
<span class="r-in">  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  </span>
<span class="r-in">  <span class="fu"><a href="calc_rwPFS.html">calc_rwPFS</a></span><span class="op">(</span></span>
<span class="r-in">    .start_date <span class="op">=</span> <span class="st">"lot1startdate"</span>,</span>
<span class="r-in">    .visit_gap_start_date <span class="op">=</span> <span class="st">"lastvisitbeforegap"</span>,</span>
<span class="r-in">    .last_progression_abstraction_date <span class="op">=</span> <span class="st">"lastclinicnotedate_no_pseudo_no_mixed"</span>,</span>
<span class="r-in">    .progression_date <span class="op">=</span> <span class="st">"progressiondate_no_pseudo_no_mixed"</span>,</span>
<span class="r-in">    .last_activity_date <span class="op">=</span> <span class="st">"lastactivitydate"</span>,</span>
<span class="r-in">    .death_date <span class="op">=</span> <span class="st">"dateofdeath"</span>,</span>
<span class="r-in">    .death_window_days <span class="op">=</span> <span class="fl">20</span>,</span>
<span class="r-in">    .max_follow_up_days <span class="op">=</span> <span class="fl">1200</span>,</span>
<span class="r-in">    .label <span class="op">=</span> <span class="st">"_20d_window"</span></span>
<span class="r-in">  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  </span>
<span class="r-in">  <span class="fu"><a href="calc_rwPFS.html">calc_rwPFS</a></span><span class="op">(</span></span>
<span class="r-in">    .start_date <span class="op">=</span> <span class="st">"lot1startdate"</span>,</span>
<span class="r-in">    .visit_gap_start_date <span class="op">=</span> <span class="st">"lastvisitbeforegap"</span>,</span>
<span class="r-in">    .last_progression_abstraction_date <span class="op">=</span> <span class="st">"lastclinicnotedate_no_pseudo_no_mixed"</span>,</span>
<span class="r-in">    .progression_date <span class="op">=</span> <span class="st">"progressiondate_no_pseudo_no_mixed"</span>,</span>
<span class="r-in">    .last_activity_date <span class="op">=</span> <span class="st">"lastactivitydate"</span>,</span>
<span class="r-in">    .death_date <span class="op">=</span> <span class="st">"dateofdeath"</span>,</span>
<span class="r-in">    .death_window_days <span class="op">=</span> <span class="fl">30</span>,</span>
<span class="r-in">    .max_follow_up_days <span class="op">=</span> <span class="fl">1200</span>,</span>
<span class="r-in">    .label <span class="op">=</span> <span class="st">"_30d_window"</span></span>
<span class="r-in">  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  </span>
<span class="r-in">  <span class="fu"><a href="calc_rwPFS.html">calc_rwPFS</a></span><span class="op">(</span></span>
<span class="r-in">    .start_date <span class="op">=</span> <span class="st">"lot1startdate"</span>,</span>
<span class="r-in">    .visit_gap_start_date <span class="op">=</span> <span class="st">"lastvisitbeforegap"</span>,</span>
<span class="r-in">    .last_progression_abstraction_date <span class="op">=</span> <span class="st">"lastclinicnotedate_no_pseudo_no_mixed"</span>,</span>
<span class="r-in">    .progression_date <span class="op">=</span> <span class="st">"progressiondate_no_pseudo_no_mixed"</span>,</span>
<span class="r-in">    .last_activity_date <span class="op">=</span> <span class="st">"lastactivitydate"</span>,</span>
<span class="r-in">    .death_date <span class="op">=</span> <span class="st">"dateofdeath"</span>,</span>
<span class="r-in">    .death_window_days <span class="op">=</span> <span class="fl">40</span>,</span>
<span class="r-in">    .max_follow_up_days <span class="op">=</span> <span class="fl">1200</span>,</span>
<span class="r-in">    .label <span class="op">=</span> <span class="st">"_40d_window"</span></span>
<span class="r-in">  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  </span>
<span class="r-in">  <span class="fu"><a href="calc_rwPFS.html">calc_rwPFS</a></span><span class="op">(</span></span>
<span class="r-in">    .start_date <span class="op">=</span> <span class="st">"lot1startdate"</span>,</span>
<span class="r-in">    .visit_gap_start_date <span class="op">=</span> <span class="st">"lastvisitbeforegap"</span>,</span>
<span class="r-in">    .last_progression_abstraction_date <span class="op">=</span> <span class="st">"lastclinicnotedate_no_pseudo_no_mixed"</span>,</span>
<span class="r-in">    .progression_date <span class="op">=</span> <span class="st">"progressiondate_no_pseudo_no_mixed"</span>,</span>
<span class="r-in">    .last_activity_date <span class="op">=</span> <span class="st">"lastactivitydate"</span>,</span>
<span class="r-in">    .death_date <span class="op">=</span> <span class="st">"dateofdeath"</span>,</span>
<span class="r-in">    .death_window_days <span class="op">=</span> <span class="fl">50</span>,</span>
<span class="r-in">    .max_follow_up_days <span class="op">=</span> <span class="fl">1200</span>,</span>
<span class="r-in">    .label <span class="op">=</span> <span class="st">"_50d_window"</span></span>
<span class="r-in">  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  </span>
<span class="r-in">  <span class="fu"><a href="calc_rwPFS.html">calc_rwPFS</a></span><span class="op">(</span></span>
<span class="r-in">    .start_date <span class="op">=</span> <span class="st">"lot1startdate"</span>,</span>
<span class="r-in">    .visit_gap_start_date <span class="op">=</span> <span class="st">"lastvisitbeforegap"</span>,</span>
<span class="r-in">    .last_progression_abstraction_date <span class="op">=</span> <span class="st">"lastclinicnotedate_no_pseudo_no_mixed"</span>,</span>
<span class="r-in">    .progression_date <span class="op">=</span> <span class="st">"progressiondate_no_pseudo_no_mixed"</span>,</span>
<span class="r-in">    .last_activity_date <span class="op">=</span> <span class="st">"lastactivitydate"</span>,</span>
<span class="r-in">    .death_date <span class="op">=</span> <span class="st">"dateofdeath"</span>,</span>
<span class="r-in">    .death_window_days <span class="op">=</span> <span class="fl">60</span>,</span>
<span class="r-in">    .max_follow_up_days <span class="op">=</span> <span class="fl">1200</span>,</span>
<span class="r-in">    .label <span class="op">=</span> <span class="st">"_60d_window"</span></span>
<span class="r-in">  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  </span>
<span class="r-in">  <span class="fu"><a href="calc_rwPFS.html">calc_rwPFS</a></span><span class="op">(</span></span>
<span class="r-in">    .start_date <span class="op">=</span> <span class="st">"lot1startdate"</span>,</span>
<span class="r-in">    .visit_gap_start_date <span class="op">=</span> <span class="st">"lastvisitbeforegap"</span>,</span>
<span class="r-in">    .last_progression_abstraction_date <span class="op">=</span> <span class="st">"lastclinicnotedate_no_pseudo_no_mixed"</span>,</span>
<span class="r-in">    .progression_date <span class="op">=</span> <span class="st">"progressiondate_no_pseudo_no_mixed"</span>,</span>
<span class="r-in">    .last_activity_date <span class="op">=</span> <span class="st">"lastactivitydate"</span>,</span>
<span class="r-in">    .death_date <span class="op">=</span> <span class="st">"dateofdeath"</span>,</span>
<span class="r-in">    .death_window_days <span class="op">=</span> <span class="fl">70</span>,</span>
<span class="r-in">    .max_follow_up_days <span class="op">=</span> <span class="fl">1200</span>,</span>
<span class="r-in">    .label <span class="op">=</span> <span class="st">"_70d_window"</span></span>
<span class="r-in">  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  </span>
<span class="r-in">  <span class="fu"><a href="calc_rwPFS.html">calc_rwPFS</a></span><span class="op">(</span></span>
<span class="r-in">    .start_date <span class="op">=</span> <span class="st">"lot1startdate"</span>,</span>
<span class="r-in">    .visit_gap_start_date <span class="op">=</span> <span class="st">"lastvisitbeforegap"</span>,</span>
<span class="r-in">    .last_progression_abstraction_date <span class="op">=</span> <span class="st">"lastclinicnotedate_no_pseudo_no_mixed"</span>,</span>
<span class="r-in">    .progression_date <span class="op">=</span> <span class="st">"progressiondate_no_pseudo_no_mixed"</span>,</span>
<span class="r-in">    .last_activity_date <span class="op">=</span> <span class="st">"lastactivitydate"</span>,</span>
<span class="r-in">    .death_date <span class="op">=</span> <span class="st">"dateofdeath"</span>,</span>
<span class="r-in">    .death_window_days <span class="op">=</span> <span class="fl">80</span>,</span>
<span class="r-in">    .max_follow_up_days <span class="op">=</span> <span class="fl">1200</span>,</span>
<span class="r-in">    .label <span class="op">=</span> <span class="st">"_80d_window"</span></span>
<span class="r-in">  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  </span>
<span class="r-in">  <span class="fu"><a href="calc_rwPFS.html">calc_rwPFS</a></span><span class="op">(</span></span>
<span class="r-in">    .start_date <span class="op">=</span> <span class="st">"lot1startdate"</span>,</span>
<span class="r-in">    .visit_gap_start_date <span class="op">=</span> <span class="st">"lastvisitbeforegap"</span>,</span>
<span class="r-in">    .last_progression_abstraction_date <span class="op">=</span> <span class="st">"lastclinicnotedate_no_pseudo_no_mixed"</span>,</span>
<span class="r-in">    .progression_date <span class="op">=</span> <span class="st">"progressiondate_no_pseudo_no_mixed"</span>,</span>
<span class="r-in">    .last_activity_date <span class="op">=</span> <span class="st">"lastactivitydate"</span>,</span>
<span class="r-in">    .death_date <span class="op">=</span> <span class="st">"dateofdeath"</span>,</span>
<span class="r-in">    .death_window_days <span class="op">=</span> <span class="fl">90</span>,</span>
<span class="r-in">    .max_follow_up_days <span class="op">=</span> <span class="fl">1200</span>,</span>
<span class="r-in">    .label <span class="op">=</span> <span class="st">"_90d_window"</span></span>
<span class="r-in">  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  </span>
<span class="r-in">  <span class="co">#Remove patients with missing rwPFS</span></span>
<span class="r-in">  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span></span>
<span class="r-in">    <span class="va">rwPFS_0d_window_event_type</span> <span class="op">!=</span> <span class="st">"Missing"</span></span>
<span class="r-in">  <span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">#Compare different rwPFS definitions</span></span>
<span class="r-in"><span class="va">df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu">compare_rwPFS</span><span class="op">(</span></span>
<span class="r-in">    .labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"_"</span>, <span class="fl">0</span><span class="op">:</span><span class="fl">9</span><span class="op">*</span><span class="fl">10</span>, <span class="st">"d_window"</span><span class="op">)</span>,</span>
<span class="r-in">    .reference <span class="op">=</span> <span class="st">"_30d_window"</span>,</span>
<span class="r-in">    .incremental_deaths_column <span class="op">=</span> <span class="cn">TRUE</span></span>
<span class="r-in">  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Michael Bretscher, Shanmugasundaram Prabhu, Nandi Kalyan.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

      </footer></div>

  


  

  </body></html>

